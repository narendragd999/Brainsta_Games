:root{
  --bg:#071226;
  --panel:#0b1630;
  --glass:#ffffff11;
  --accent:#ffdd57;
  --tile-radius:12px;
  --bucket-height:110px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#041025,#071226);color:#eef7ff;-webkit-tap-highlight-color:transparent}
#game-container{max-width:980px;margin:8px auto;padding:12px}
header{display:flex;justify-content:space-between;align-items:center;gap:12px}
h1{margin:0;font-size:1.3rem}
#hud{display:flex;gap:12px;align-items:center}
#score,#timer{background:var(--panel);padding:8px 12px;border-radius:10px;font-weight:700}

main{display:grid;grid-template-columns:1fr 300px;gap:14px;margin-top:12px;align-items:start}
#play-area{position:relative;background:linear-gradient(180deg,#061428,#041224);border-radius:14px;padding:12px;display:flex;flex-direction:column;height:70vh;min-height:520px;overflow:hidden;box-shadow:0 18px 50px #0008}
#item-layer{position:relative;flex:1;overflow:hidden;touch-action:none}
#buckets{display:flex;gap:8px;height:var(--bucket-height);align-items:flex-end;justify-content:space-between;padding:8px;margin-top:8px}
.bucket{flex:1;background:linear-gradient(180deg,#0b2a40,#08232f);border-radius:12px;border:2px solid rgba(255,255,255,0.04);height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;position:relative}
.bucket .label{margin-top:8px;font-weight:700;color:#dff2ff}
.bucket .icon{font-size:34px;filter:drop-shadow(0 6px 12px rgba(0,0,0,0.6))}
.bucket.match{outline:3px solid rgba(255,255,255,0.06)}

.item{
  position:absolute;left:50%;transform:translateX(-50%);top:-80px;
  font-size:36px;padding:10px;border-radius:10px;background:linear-gradient(180deg,#ffffff22,#ffffff11);
  display:flex;align-items:center;justify-content:center;min-width:56px;min-height:56px;touch-action:none;user-select:none;
  box-shadow:0 10px 24px rgba(0,0,0,0.5);cursor:grab;
}
.item.dragging{cursor:grabbing;transform:none;z-index:9999;transition:none}

#overlay{position:absolute;inset:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#00000055,#00000077);border-radius:12px}
#overlay.hidden{display:none}
.card{background:linear-gradient(180deg,#0b1220,#081223);padding:18px;border-radius:12px;text-align:center;box-shadow:0 8px 30px #0009}
.card button{margin-top:12px;padding:10px 12px;border-radius:8px;border:0;background:var(--accent);color:#042;cursor:pointer}

#controls{padding:14px;background:linear-gradient(180deg,#071426,#061224);border-radius:14px;box-shadow:0 8px 30px #0008;display:flex;flex-direction:column;gap:12px}
select,button,input[type="range"]{padding:8px 10px;border-radius:10px;border:0;background:var(--glass);color:inherit}
.row{display:flex;gap:8px;align-items:center}

.hint{color:#9fb0c8;font-size:0.95rem}

footer{margin-top:10px;text-align:center;color:#9fb0c8;font-size:0.85rem}

@media(max-width:860px){
  main{grid-template-columns:1fr;align-items:center;height:auto}
  #play-area{height:66vh;min-height:520px}
  #buckets{gap:6px}
  .bucket .icon{font-size:28px}
  .item{font-size:28px;min-width:48px;min-height:48px}
}
